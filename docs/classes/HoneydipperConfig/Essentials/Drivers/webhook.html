<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>webhook</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css" /><script type="text/javascript" src="../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic38"></a><div class="CTopic TSection LHoneydipperConfig first">
 <div class="CTitle"><span class="Qualifier">Essentials.&#8203;Drivers.</span>&#8203;webhook</div>
 <div class="CBody"><p>receiving inbound web requests</p><div class="CHeading">Prereq</div><ul><li><p>include the essentials bundle from this repo</p></li></ul><div class="CHeading">Integration</div><p>Config the driver in the `drivers` section with following parameters.</p><ul><li><p>loglevel: the verbosity of logs generated by this driver, DEBUG, INFO, WARNING, ERROR</p></li><li><p>Addr: the listening address and port, e.g. ':8080', '127.0.0.1:7070' etc.</p></li></ul><div class="CHeading">Example</div><pre>---<br />drivers:<br />  webhook:<br />    loglevel: DEBUG<br />    Addr: &quot;:8080&quot;</pre></div>
</div>

<a name="RawEvents"></a><a name="Topic39"></a><div class="CTopic TGroup LHoneydipperConfig">
 <div class="CTitle">RawEvents</div>
</div>

<a name="&quot;&quot;"></a><a name="Topic40"></a><div class="CTopic TRawEvent LHoneydipperConfig last">
 <div class="CTitle">&quot;&quot;</div>
 <div class="CBody"><p>receiving inbound web requests</p><div class="CHeading">Conditions</div><p>When used in rules, you can define criteria to match the payload.</p><ul><li><p>url: the path part of the url where the request is expected</p></li><li><p>method: http method(s) allowed</p></li><li><p>headers: a group of K/V pair describe the requirements for the headers</p></li><li><p>form: the query parameters used in URL for GET, or in the body for POST/PUT</p></li><li><p>json: if the request uses &quot;application/json&quot; content-type, this should match the json object</p></li></ul><p>Event payload:</p><p>When used in workflow or actions, access the payload through `interpolation` with below paths.</p><ul><li><p>.event.url: the path part of the url</p></li><li><p>.event.method: http methodd</p></li><li><p>.event.headers: a map of header names each to a slice of header values</p></li><li><p>.event.form: the query parameters used in URL for GET, or in the body for POST/PUT</p></li><li><p>.event.json: if the request uses &quot;application/json&quot; content-type, this is the parsed json data structure</p></li></ul><div class="CHeading">Example</div><pre>---<br />rules:<br />  - when:<br />      driver: webhook<br />      rawEvent: &quot;&quot;  # you can omit this line<br />      condition:<br />        url: &quot;/github/push&quot;<br />    do:<br />      content: notify<br />      data:<br />        notify:<br />          - &quot;#my_slack_channel&quot;<br />        message:<br />          text: repo {{ `{{ .event.json.repository.name }}` is updated</pre></div>
</div>

</body></html>